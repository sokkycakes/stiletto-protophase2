[gd_scene load_steps=19 format=4 uid="uid://c1gmltdt1cgx1"]

[ext_resource type="Material" uid="uid://7to3kb1tisdd" path="res://addons/prototype_mini_bundle/M_prototype_orange.tres" id="1_cojph"]
[ext_resource type="PackedScene" uid="uid://b4hopyks1f1c1" path="res://entities/player/ss_player.tscn" id="2_cojph"]
[ext_resource type="AudioStream" uid="uid://joj252815whf" path="res://assets/snd/music/PD_ShoppingMall.ogg" id="2_rjrbw"]
[ext_resource type="AudioStream" uid="uid://da4yrjk2hwqp8" path="res://assets/snd/ambient/sound_ambient_ambience_urban_rooftop_ambloop02.wav" id="2_rvmsc"]
[ext_resource type="PackedScene" uid="uid://cmtvhl44mc78y" path="res://skyboxdetail.tscn" id="3_17a3a"]
[ext_resource type="AudioStream" uid="uid://b8ey7tn8nevm1" path="res://assets/snd/ambient/sound_ambient_italianradio.wav" id="3_p7lbm"]
[ext_resource type="PackedScene" uid="uid://dgo0wly7c6t0v" path="res://assets/world/light_flourescenttube.tscn" id="4_ypj6x"]

[sub_resource type="Gradient" id="Gradient_16ffl"]
offsets = PackedFloat32Array(0, 0.00411523, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.131687, 0.131687, 0.131687, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_17a3a"]
noise_type = 0
frequency = 0.0046

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_17a3a"]
in_3d_space = true
seamless = true
seamless_blend_skirt = 0.415
color_ramp = SubResource("Gradient_16ffl")
noise = SubResource("FastNoiseLite_17a3a")

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_igx0j"]
sky_top_color = Color(0.361649, 0.434206, 0.535156, 1)
sky_cover = SubResource("NoiseTexture2D_17a3a")
sky_cover_modulate = Color(0.890625, 0.890625, 0.890625, 1)
ground_bottom_color = Color(0.090251, 0.11034, 0.125, 1)

[sub_resource type="Sky" id="Sky_4b02c"]
sky_material = SubResource("ProceduralSkyMaterial_igx0j")

[sub_resource type="Environment" id="Environment_ai2o8"]
background_mode = 2
background_color = Color(0.212054, 0.256575, 0.289063, 1)
sky = SubResource("Sky_4b02c")
ambient_light_source = 3
volumetric_fog_enabled = true
volumetric_fog_density = 0.0044
volumetric_fog_emission = Color(0.590515, 0.635644, 0.671875, 1)
volumetric_fog_ambient_inject = 0.85
volumetric_fog_sky_affect = 0.607
adjustment_brightness = 1.2
adjustment_contrast = 1.3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_17a3a"]
albedo_color = Color(0.589844, 0.589844, 0.589844, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_44b12"]
lightmap_size_hint = Vector2i(1542, 1490)
_surfaces = [{
"aabb": AABB(-13.7764, -5.50755, -13.7617, 27.5528, 11.0151, 27.5233),
"attribute_data": PackedByteArray("AAAAAAAAAACduFw/vw1YPwAAAAAAAIA/nbhcP04V8j4AAIA/AACAP/gHOD9OFfI+AAAAAAAAAAD5sTg/Tm7nPgAAAAAAAIA/nWJdP05u5z4AAIA/AACAP51iXT95oKU9AACAPwAAAAD4Bzg/vw1YPwAAgD8AAAAAeDI4P0+xnDz8cW8/IHCEPZxCMj8UpzA9AACAPwAAgD85x7g+T7GcPAAAAAAAAAAAceQwPzo/SD8AAAAAAACAP3HkMD/JRiI/AACAPwAAgD8qK6o+yUYiPwAAAAAAAAAAOMi3Pisyvj4AAAAAAACAP6oAqjkrMr4+AACAPwAAgD+qAKo5gu+vOQAAgD8AAIA/doo1PwezHz8AAIA/AAAAADN3sz4Hsx8/AAAAAAAAAAAzd7M+LXXzPgAAAAAAAIA/Oce4PkTRxz4hcIQ9/HFvP/GmxD53h7s+AAAAAAAAAAB4Mjg/RNHHPgAAgD8AAAAAKiuqPjo/SD/8cW8//HFvP/GmxD4UpzA9AAAAAAAAgD92ijU/LXXzPiFwhD0gcIQ9nEIyP3eHuz4AAIA/AAAAAPmxOD95oKU9AACAPwAAAAA4yLc+gu+vOQAAAAAUSEI/deA0P68Lbj8AAAAAAAAAAHXgND8NI0o/AACAPwAAAABKC8o+DSNKPwAAgD8AAIA/taC0O2ABXD+x33Y+AACAP7WgtDsC6n8/sd92PgAAAAAjiKI+Aup/PwAAgD+x33Y+wOp/P0OOUj8AAAAAAACAPx04XT8E1P8+AAAAALHfdj7A6n8/BNT/PgAAgD8AAAAAI4iiPmABXD8AAIA/AACAP79APztKQTI/AAAAAAAAgD8hNKE+SkEyPwAAAAAAAAAAITShPhM6vz4AAIA/AACAPyjYpz5sfVs/sd92PgAAgD8o2Kc+ypQ3P7Hfdj4AAAAAgiiCPMqUNz8AAIA/FEhCP0oLyj6vC24/AACAPwAAgD8dOF0/Q45SPwAAgD8AAAAAv0A/OxM6vz4AAIA/AAAAAIIogjxsfVs/"),
"format": 34359742519,
"index_count": 84,
"index_data": PackedByteArray("AAABAAIAAwAEAAUABgAAAAIABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAKAAwAFAATABcAEgAYABAAFwAJAAgACAAHABkAFwATAAkAAwAFABoAGQAVABQADQAPABsAGQAHABUAHAAdAB4AHwAgACEAIgAjACQAIQAlAB8AJgAnACgAKQAqACsAHAAeACwAIgAtACMALgAmACgAKwAvACkA"),
"material": ExtResource("1_cojph"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 48,
"vertex_data": PackedByteArray("ImxcQdk9sEC4L1xBImxcQdk9sEC4L1zBImxcQdk9sMC4L1zBImxcQdk9sMC4L1zBImxcQdk9sEC4L1zBImxcwdk9sEC4L1zBImxcQdk9sMC4L1xBImxcQdk9sEC4L1zBD+o/Qdk9sEB1tT/BImxcwdk9sEC4L1zBImxcQdk9sEC4L1xBImxcQdk9sMC4L1xBImxcwdk9sMC4L1xBImxcwdk9sMC4L1xBImxcQdk9sMC4L1xBImxcQdk9sMC4L1zBImxcwdk9sMC4L1xBImxcwdk9sMC4L1zBImxcwdk9sEC4L1zBImxcwdk9sEC4L1xBD+o/wdk9sEB1tT9BImxcQdk9sEC4L1xBImxcwdk9sEC4L1xBD+o/wdk9sEB1tT/BImxcwdk9sEC4L1xBD+o/Qdk9sEB1tT9BImxcwdk9sMC4L1zBImxcwdk9sMC4L1zBD+o/Qdk9sEB1tT/BD+o/QXpLncB1tT/BD+o/wXpLncB1tT/BD+o/QXpLncB1tT/BD+o/Qdk9sEB1tT/BD+o/Qdk9sEB1tT9BD+o/wdk9sEB1tT9BD+o/QXpLncB1tT9BD+o/Qdk9sEB1tT9BD+o/QXpLncB1tT9BD+o/QXpLncB1tT/BD+o/QXpLncB1tT9BD+o/wXpLncB1tT9BD+o/wXpLncB1tT9BD+o/wdk9sEB1tT9BD+o/wdk9sEB1tT/BD+o/wdk9sEB1tT/BD+o/wXpLncB1tT9BD+o/wXpLncB1tT/BD+o/wXpLncB1tT/B//8AgP9//n///wCA/3/+f///AID/f/5//////wAA/z//////AAD/P/////8AAP8///8AgP9//n8AgP////8AAACA/////wAAAID/////AAD/f/9/AAD/P/9//38AAP8//3//fwAA/z8AgAAA//8AAACAAAD//wAAAIAAAP//AAAAAACA/3/+fwAAAID/f/5/AAAAgP9//n8AgP////8AAACA/////wAAAID/////AAD/f/9/AAD/PwCA/////wAAAAAAgP9//n8AgP////8AAP////8AAP8/AIAAAP//AAD/f/9/AAD/v/9//38AAP+//3//fwAA/78AAACA/38AgAAAAID/fwCAAAAAgP9/AID/////AAD/v/////8AAP+//////wAA/78AAACA/38AgACA////////AID///////8AgP//////////AID/fwCA//8AgP9/AID//wCA/38AgP9//38AAP+//////wAA/78AgP//////////AID/fwCA")
}]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_17a3a"]
data = PackedVector3Array(13.7764, 5.5075, 13.7617, 13.7764, 5.5075, -13.7617, 13.7764, -5.5075, -13.7617, 13.7764, -5.5075, -13.7617, 13.7764, 5.5075, -13.7617, -13.7764, 5.5075, -13.7617, 13.7764, -5.5075, 13.7617, 13.7764, 5.5075, 13.7617, 13.7764, -5.5075, -13.7617, 13.7764, 5.5075, -13.7617, 11.9946, 5.5075, -11.9818, -13.7764, 5.5075, -13.7617, 13.7764, 5.5075, 13.7617, 13.7764, -5.5075, 13.7617, -13.7764, -5.5075, 13.7617, -13.7764, -5.5075, 13.7617, 13.7764, -5.5075, 13.7617, 13.7764, -5.5075, -13.7617, -13.7764, -5.5075, 13.7617, -13.7764, -5.5075, -13.7617, -13.7764, 5.5075, -13.7617, -13.7764, 5.5075, 13.7617, -11.9946, 5.5075, 11.9818, 13.7764, 5.5075, 13.7617, -13.7764, 5.5075, 13.7617, 13.7764, 5.5075, 13.7617, -13.7764, -5.5075, 13.7617, -11.9946, 5.5075, 11.9818, -13.7764, 5.5075, 13.7617, -11.9946, 5.5075, -11.9818, -13.7764, 5.5075, -13.7617, -13.7764, 5.5075, 13.7617, -13.7764, -5.5075, 13.7617, -11.9946, 5.5075, -11.9818, -13.7764, 5.5075, -13.7617, 11.9946, 5.5075, -11.9818, 11.9946, 5.5075, -11.9818, 13.7764, 5.5075, -13.7617, 11.9946, 5.5075, 11.9818, -11.9946, 5.5075, -11.9818, -13.7764, 5.5075, 13.7617, -13.7764, 5.5075, -13.7617, 13.7764, -5.5075, -13.7617, -13.7764, 5.5075, -13.7617, -13.7764, -5.5075, -13.7617, 11.9946, 5.5075, 11.9818, 13.7764, 5.5075, 13.7617, -11.9946, 5.5075, 11.9818, -13.7764, -5.5075, 13.7617, 13.7764, -5.5075, -13.7617, -13.7764, -5.5075, -13.7617, 11.9946, 5.5075, 11.9818, 13.7764, 5.5075, -13.7617, 13.7764, 5.5075, 13.7617, 11.9946, 5.5075, -11.9818, 11.9946, -4.9155, -11.9818, -11.9946, -4.9155, -11.9818, 11.9946, -4.9155, -11.9818, 11.9946, 5.5075, -11.9818, 11.9946, 5.5075, 11.9818, -11.9946, 5.5075, 11.9818, 11.9946, -4.9155, 11.9818, 11.9946, 5.5075, 11.9818, 11.9946, 5.5075, 11.9818, 11.9946, -4.9155, 11.9818, 11.9946, -4.9155, -11.9818, 11.9946, -4.9155, -11.9818, 11.9946, -4.9155, 11.9818, -11.9946, -4.9155, 11.9818, -11.9946, -4.9155, 11.9818, -11.9946, 5.5075, 11.9818, -11.9946, 5.5075, -11.9818, 11.9946, 5.5075, -11.9818, -11.9946, -4.9155, -11.9818, -11.9946, 5.5075, -11.9818, -11.9946, 5.5075, 11.9818, -11.9946, -4.9155, 11.9818, 11.9946, -4.9155, 11.9818, -11.9946, -4.9155, -11.9818, 11.9946, -4.9155, -11.9818, -11.9946, -4.9155, 11.9818, -11.9946, 5.5075, -11.9818, -11.9946, -4.9155, -11.9818, -11.9946, -4.9155, 11.9818)

[sub_resource type="BoxShape3D" id="BoxShape3D_rvmsc"]
size = Vector3(1, 0.533203, 0.241798)

[sub_resource type="BoxMesh" id="BoxMesh_rjrbw"]

[node name="Node3D" type="Node3D"]

[node name="env" type="Node" parent="."]

[node name="bgm" type="AudioStreamPlayer" parent="env"]
stream = ExtResource("2_rjrbw")
volume_db = -20.691
autoplay = true
bus = &"bgm"

[node name="env_ambience" type="AudioStreamPlayer" parent="env"]
stream = ExtResource("2_rvmsc")
volume_db = -9.705
autoplay = true
max_polyphony = 5

[node name="WorldEnvironment" type="WorldEnvironment" parent="env"]
environment = SubResource("Environment_ai2o8")

[node name="skyboxdetail" parent="env" instance=ExtResource("3_17a3a")]
transform = Transform3D(14.5069, 0, 0, 0, 14.5069, 0, 0, 0, 14.5069, -304.998, 5.39606, -611.832)
material_override = SubResource("StandardMaterial3D_17a3a")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="env"]
transform = Transform3D(-0.0784665, 0.423955, -0.902278, 0.485616, 0.806684, 0.336807, 0.870643, -0.411732, -0.269177, 0, 67.8527, 0)
light_color = Color(0.621094, 0.548309, 0.548309, 1)
light_energy = 0.452
light_indirect_energy = 4.532
light_volumetric_fog_energy = 0.908
light_angular_distance = 3.23
light_specular = 5.407
shadow_enabled = true
shadow_bias = 0.0
shadow_reverse_cull_face = true
shadow_blur = 1.36
sky_mode = 1

[node name="world_geom" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.7626, 0.934444, -4.31793)
visible = false
material_override = ExtResource("1_cojph")
size = Vector3(27.5528, 11.0151, 27.5233)

[node name="CSGBox3D2" type="CSGBox3D" parent="world_geom"]
transform = Transform3D(0.870666, 0, 0, 0, 0.870666, 0, 0, 0, 0.870666, 0, 1.95161, 0)
operation = 2
size = Vector3(27.5528, 15.7743, 27.5233)

[node name="CSGBakedMeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.7626, 0.934444, -4.31793)
mesh = SubResource("ArrayMesh_44b12")

[node name="StaticBody3D" type="StaticBody3D" parent="CSGBakedMeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CSGBakedMeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_17a3a")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.59978, 14.2715, -3.48395)
use_collision = true
material = ExtResource("1_cojph")

[node name="world_props" type="Node3D" parent="."]

[node name="light1" parent="world_props" instance=ExtResource("4_ypj6x")]
transform = Transform3D(-1.93549e-07, 0, -1, 0, 0.548387, 0, 4.42788, 0, -4.37114e-08, 8.73629, 6.16737, 3.55459)

[node name="MeshInstance3D" parent="world_props/light1" index="0"]
transform = Transform3D(0.948382, 0, -8.88178e-16, 0, 0.948382, 0, -1.42109e-14, 0, 0.948382, 0.0006513, -0.608438, 0)

[node name="SpotLight3D" parent="world_props/light1/MeshInstance3D" index="0"]
transform = Transform3D(0.238134, -8.88178e-16, -5.29396e-23, 0, -8.40474e-08, 1.92278, -3.55271e-15, -1.05443, -4.60905e-08, 0, -0.741811, 0)
light_size = 0.367
light_bake_mode = 1
spot_range = 10.2897
spot_angle = 26.4671

[node name="MeshInstance3D2" parent="world_props" instance=ExtResource("4_ypj6x")]
transform = Transform3D(-1.93549e-07, 0, -1, 0, 0.548387, 0, 4.42788, 0, -4.37114e-08, 8.73629, 6.16737, -12.7094)

[node name="MeshInstance3D3" parent="world_props" instance=ExtResource("4_ypj6x")]
transform = Transform3D(-1.93549e-07, 0, -1, 0, 0.548387, 0, 4.42788, 0, -4.37114e-08, -14.2892, 6.16737, 3.55459)

[node name="MeshInstance3D4" parent="world_props" instance=ExtResource("4_ypj6x")]
transform = Transform3D(-1.93549e-07, 0, -1, 0, 0.548387, 0, 4.42788, 0, -4.37114e-08, -14.2892, 6.16737, -12.7094)

[node name="OmniLight3D" type="OmniLight3D" parent="world_props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.59978, -0.445283, -1.52721)
light_bake_mode = 1

[node name="ss_player" parent="." instance=ExtResource("2_cojph")]

[node name="player" parent="ss_player/Body/playermodel" index="0"]
surface_material_override/0 = null

[node name="FootstepManager" parent="ss_player/Body" index="4"]
volume_base_db = 1.765

[node name="radio" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.10619, -2.68321, -12.9041)

[node name="CollisionShape3D" type="CollisionShape3D" parent="radio"]
transform = Transform3D(0.712086, 0, 0, 0, 0.712086, 0, 0, 0, 0.712086, 0, -0.000695229, 0.00102615)
shape = SubResource("BoxShape3D_rvmsc")

[node name="MeshInstance3D" type="MeshInstance3D" parent="radio"]
transform = Transform3D(0.704337, 0, 0, 0, 0.369359, 0, 0, 0, 0.170488, 0, 0, 0)
mesh = SubResource("BoxMesh_rjrbw")
skeleton = NodePath("../CollisionShape3D")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="radio"]
transform = Transform3D(-1, 0, -8.9407e-08, 0, 1, 0, 8.9407e-08, 0, -1, 0, 0, 0)
stream = ExtResource("3_p7lbm")
attenuation_model = 2
unit_size = 18.98
max_db = -0.237
autoplay = true
max_distance = 18.95
bus = &"sfx_ambient_radio"
emission_angle_degrees = 71.0
doppler_tracking = 2

[editable path="world_props/light1"]
[editable path="ss_player"]
