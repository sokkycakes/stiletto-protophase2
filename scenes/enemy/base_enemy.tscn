[gd_scene load_steps=17 format=3 uid="uid://riqfmggkqpfd"]

[ext_resource type="Script" uid="uid://bjbldj771ku4p" path="res://scenes/enemy/base_enemy_ai.gd" id="1_0clvb"]
[ext_resource type="Material" uid="uid://cmu4vfp7y5t6b" path="res://addons/prototype_mini_bundle/M_prototype_purple.tres" id="1_jf5t1"]
[ext_resource type="Script" uid="uid://dk8c1ga32h1vt" path="res://scenes/enemy/base_enemy.gd" id="1_se4xw"]
[ext_resource type="Script" uid="uid://hs02y6cuoxae" path="res://scenes/enemy/base_enemy_attack_system.gd" id="2_se4xw"]
[ext_resource type="FontFile" uid="uid://cuxa5noqja2ow" path="res://assets/ui/IosevkaStiletto-ExtendedLight.ttf" id="3_316ce"]
[ext_resource type="Script" uid="uid://bkvp0gfaqrbfx" path="res://scenes/enemy/base_enemy_parameters.gd" id="3_x8f0n"]
[ext_resource type="Script" uid="uid://bdlgjs3eqcyyl" path="res://scenes/enemy/base_enemy_collisions.gd" id="4_316ce"]
[ext_resource type="Shader" uid="uid://b3ejot0nxeca6" path="res://materials/wireframe.gdshader" id="6_x8f0n"]
[ext_resource type="AudioStream" uid="uid://pf3q7hhlqyw0" path="res://assets/player/sound/kickbackv1.wav" id="9_ehali"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_1"]

[sub_resource type="SphereShape3D" id="SphereShape3D_1"]
radius = 10.0

[sub_resource type="BoxShape3D" id="BoxShape3D_1"]
size = Vector3(1.26819, 2, 0.674194)

[sub_resource type="BoxShape3D" id="BoxShape3D_2"]
size = Vector3(1.5, 2.5, 1.5)

[sub_resource type="BoxMesh" id="BoxMesh_r8x88"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_316ce"]
render_priority = 0
shader = ExtResource("6_x8f0n")
shader_parameter/modelColor = Color(0.882813, 0.165527, 0.165527, 1)
shader_parameter/wireframeColor = Color(1, 0.28125, 0.28125, 1)
shader_parameter/width = 10.799
shader_parameter/modelOpacity = 0.648
shader_parameter/filtered = true

[sub_resource type="SphereMesh" id="SphereMesh_23iyx"]

[node name="BaseEnemy" type="CharacterBody3D"]
script = ExtResource("1_se4xw")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.01675, 0)
shape = SubResource("CapsuleShape3D_1")

[node name="AwarenessArea" type="Area3D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="AwarenessArea"]
shape = SubResource("SphereShape3D_1")

[node name="AttackHitbox" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.982824, -1.06659)
collision_layer = 0
collision_mask = 2
monitoring = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="AttackHitbox"]
shape = SubResource("BoxShape3D_1")

[node name="Hurtbox" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.01675, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hurtbox"]
shape = SubResource("BoxShape3D_1")

[node name="DetectionBox" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.01675, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="DetectionBox"]
shape = SubResource("BoxShape3D_2")

[node name="AI" type="Node" parent="."]
script = ExtResource("1_0clvb")
debug_enabled = true
scan_speed = 300.0
awareness_area_path = NodePath("../AwarenessArea")

[node name="AttackSystem" type="Node" parent="."]
script = ExtResource("2_se4xw")
attack_hitbox_path = NodePath("../AttackHitbox")
attack_sound_path = NodePath("../AttackSound")
launch_angle = 90.0

[node name="Parameters" type="Node" parent="."]
script = ExtResource("3_x8f0n")

[node name="CollisionsAndVolumes" type="Node" parent="."]
script = ExtResource("4_316ce")
hurtbox_path = NodePath("../Hurtbox")
detection_box_path = NodePath("../DetectionBox")

[node name="Model" type="Node3D" parent="."]

[node name="DebugLabel" type="Label3D" parent="Model"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.88119, 0)
billboard = 1
text = "--"
font = ExtResource("3_316ce")
font_size = 24
outline_size = 8

[node name="enemy_model" type="MeshInstance3D" parent="Model"]
transform = Transform3D(1, 0, 0, 0, 2.00634, 0, 0, 0, 1, 0, 1.01603, 0)
mesh = SubResource("BoxMesh_r8x88")
surface_material_override/0 = SubResource("ShaderMaterial_316ce")

[node name="eye" type="MeshInstance3D" parent="Model/enemy_model"]
transform = Transform3D(0.192861, 0, 0, 0, 0.0966031, 0, 0, 0, 0.192861, 0, 0.331224, -0.728433)
mesh = SubResource("SphereMesh_23iyx")
surface_material_override/0 = ExtResource("1_jf5t1")

[node name="AttackSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_ehali")
volume_db = 5.715
pitch_scale = 0.58
bus = &"attack"
